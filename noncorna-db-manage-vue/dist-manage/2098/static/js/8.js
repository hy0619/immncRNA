webpackJsonp([8],{QqfP:function(e,t,o){var n=o("Qyky");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o("XkoO")("1cfdae47",n,!0)},Qyky:function(e,t,o){(e.exports=o("acE3")(!1)).push([e.i,"\n.avatar-uploader .el-upload {\nborder: 1px dashed #d9d9d9;\nborder-radius: 6px;\ncursor: pointer;\nposition: relative;\noverflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\nborder-color: #409EFF;\n}\n.avatar-uploader-icon {\nfont-size: 28px;\ncolor: #8c939d;\nwidth: 178px;\nheight: 178px;\nline-height: 178px;\ntext-align: center;\n}\n.avatar {\nwidth: 178px;\nheight: 178px;\ndisplay: block;\n}\n",""])},gDwB:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("aiqZ"),i=(o("9GaO"),{data:function(){return{url:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]]},imageResize:{},placeholder:"请输入正文",theme:"snow"},config:{id:null,introduce:"",description:"",logo:"",footerContent:"",helpContent:""}}},components:{quillEditor:n.quillEditor},mounted:function(){this.editor=this.$refs.myQuillEditor.quill,this.url=this.$http.adornUrl("/sys/oss/upload?token="+this.$cookie.get("token")),console.log(this.url)},activated:function(){this.getWebConfig()},methods:{handleAvatarSuccess:function(e,t){console.log(e),this.config.logo=e.url},beforeAvatarUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type,o=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是图片格式:jpg,jpeg,png,gif!"),o||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&o},getWebConfig:function(){var e=this;this.$http({url:this.$http.adornUrl("/web/config/get"),method:"get",params:this.$http.adornParams()}).then(function(t){var o=t.data;e.config=o.config})},saveConfig:function(){var e=this;this.$refs.config.validate(function(t){t&&e.$http({url:e.$http.adornUrl("/web/config/save"),method:"post",data:e.$http.adornData(e.config)}).then(function(t){var o=t.data;o&&0===o.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1}}):e.$message.error(o.msg)})})}}}),r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-form",{attrs:{inline:!0}},[o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveConfig()}}},[e._v("保存")])],1)],1),e._v(" "),o("el-form",{ref:"config",attrs:{"label-position":"left",model:e.config,size:"medium","label-width":"80px"}},[o("el-form-item",{attrs:{label:"网站描述:"}},[o("el-col",{attrs:{span:18}},[o("quill-editor",{ref:"myQuillEditor",staticStyle:{height:"300px"},attrs:{options:e.editorOption},model:{value:e.config.description,callback:function(t){e.$set(e.config,"description",t)},expression:"config.description"}})],1)],1),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("br"),o("br"),e._v(" "),o("br"),e._v(" "),o("el-form-item",{attrs:{label:"帮助内容:"}},[o("el-col",{attrs:{span:18}},[o("quill-editor",{ref:"myQuillEditor",staticStyle:{height:"300px"},attrs:{options:e.editorOption},model:{value:e.config.helpContent,callback:function(t){e.$set(e.config,"helpContent",t)},expression:"config.helpContent"}})],1)],1)],1)],1)},staticRenderFns:[]};var l=o("46Yf")(i,r,!1,function(e){o("QqfP")},null,null);t.default=l.exports}});